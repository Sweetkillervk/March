<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Email + PIN Search</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f5f5f5;
    }
    h2 {
      color: #333;
      text-align: center;
      color: blue;
    }
    form {
      margin-bottom: 20px;
    }
    input {
      padding: 10px;
      margin-right: 10px;
      width: 250px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    table {
      border-collapse: collapse;
      width: 80%;
      background-color: white;
      margin-top: 20px;
    }
    th, td {
      padding: 12px;
      border: 1px solid #ccc;
      text-align: left;
    }
    th {
      background-color: #007bff;
      color: white;
    }
    .no-data {
      color: red;
    }
    .highlight {
      background-color: #d1ffd1;
    }
  </style>
</head>
<body>

  <h2>SMART KYP - Result Search</h2>
  <h3>Search Result by Email & PIN</h3>

  <form id="searchForm">
    <input type="email" id="emailInput" placeholder="Enter your email" required />
    <input type="text" id="pinInput" placeholder="Enter 4-digit PIN" required pattern="\d{4}" />
    <button type="submit">Search</button>
  </form>

  <div id="top4Container">
    <h3>üèÜ Top 4 Students</h3>
    <div id="top4"></div>
  </div>

  <div id="result"></div>

  <script>
    const data = [
        { "Name": "Raju Ranjan", "Email": "rajuranjan505kyp@gmail.com", "PIN": "9411", "Marks": "12 - 2 - 5 = 5" },
  { "Name": "Pushpa kumari", "Email": "pphb678@gmail.com", "PIN": "8968", "Marks": "21 (20+ no negative marks)" },
  { "Name": "Nilu kumari", "Email": "nilujee2024@gmail.com", "PIN": "9852", "Marks": "15" },
  { "Name": "Prince kumar", "Email": "prncepkyadav1116@gmail.com", "PIN": "4202", "Marks": "21" },
  { "Name": "Nicky kumari", "Email": "Nkum8888@gmail.com", "PIN": "4295", "Marks": "22 (20+ no negative marks)" },
  { "Name": "Vishal Kumar", "Email": "kumarvishal@21217gmail.com", "PIN": "1183", "Marks": "15" },
  { "Name": "Muskan patel", "Email": "muskanpatelm017@gmail.com", "PIN": "1214", "Marks": "22" },
  { "Name": "Lalasa kumari", "Email": "ravikishan8928545036@gmail.com", "PIN": "2085", "Marks": "14 - 2 = 12" },
  { "Name": "Aafrin praveen", "Email": "hb51kypaf@gmail.com", "PIN": "5802", "Marks": "22 (20+ no negative marks)" },
  { "Name": "Gyani kumari", "Email": "Amank357256@gmail.com", "PIN": "2155", "Marks": "25" },
  { "Name": "Khushi patel", "Email": "KHUSHI51KYPHSB@GMAIL.COM", "PIN": "5809", "Marks": "24" },
  { "Name": "Priya kumari", "Email": "deepakkumar8298016156@gmail.com", "PIN": "1194", "Marks": "24" },
  { "Name": "Aabha kumari", "Email": "abhakypshs@gmail.com", "PIN": "5582", "Marks": "33" },
  { "Name": "Nisha kumari", "Email": "vazad62094@gmail.com", "PIN": "5426", "Marks": "13 - 2 = 11" },
  { "Name": "anu kumari", "Email": "anu342340@gmail.com", "PIN": "1049", "Marks": "8 - 2 = 6" },
  { "Name": "Khushbu khatun", "Email": "khushbukhatun0504@gmail.com", "PIN": "2651", "Marks": "10 - 2 - 5 = 3" },
  { "Name": "Manish Kumar", "Email": "manishk58862@gmail.com", "PIN": "7029", "Marks": "17 - 2 - 5 = 10" },
  { "Name": "Retu kumari", "Email": "kretu942@gmail.com", "PIN": "9852", "Marks": "15 - 2 = 13" },
  { "Name": "Shweta Kumari", "Email": "ak82404466@gmail.com", "PIN": "9106", "Marks": "11 - 2 = 9" },
  { "Name": "nandani kumari", "Email": "nandanikumarik99@gmail.com", "PIN": "3641", "Marks": "13 - 2 = 11" },
  { "Name": "Alok kumar", "Email": "alokjamorhi802204@gmail.com", "PIN": "6289", "Marks": "10 - 2 - 5 = 3" },
  { "Name": "Babita Kumari", "Email": "ms.babitakumari8084@gmail.com", "PIN": "8593", "Marks": "11 - 2 = 9" },
  { "Name": "Dhiraj Kumar", "Email": "dhirajk95659@gmail.com", "PIN": "3900", "Marks": "19" },
  { "Name": "Muskan kumari", "Email": "muskankri1523@gmail.com", "PIN": "6476", "Marks": "20" },

  { Name: "Ragani kumari", Email: "us0594775@gmail.com", PIN: "9354", Marks: "28" },
  { Name: "Mahi kumari", Email: "MKUAMRI939@Gmail.com", PIN: "5218", Marks: "21 (20+ no negative marks)" },
  { Name: "Sanjana kumari", Email: "DEVISARITA5972@GMAIL.COM", PIN: "9370", Marks: "25 (20+ no negative marks)" },
  { Name: "Anjali Kumari", Email: "vikashkumar272007@gmail.vom", PIN: "9096", Marks: "17 (mobile, no negative marks)" },
  { Name: "Nitu kumari", Email: "nitukypshs@gmail.com", PIN: "5318", Marks: "8 - 2 - 5 = 1" },
  { Name: "Sanju kumari", Email: "9304384843rinku@gmail.com", PIN: "5738", Marks: "21 (20+ no negative marks)" },
  { Name: "Lovely", Email: "gudiya1983emk@gmail.com", PIN: "9156", Marks: "21 (20+ no negative marks)" },
  { Name: "Nandanikumari", Email: "ashokkumar802205@gmail.com", PIN: "1724", Marks: "14" },
  { Name: "Saurabh kumar", Email: "sairabhkr802204@gmail.com", PIN: "3234", Marks: "22 (20+ no negative marks)" },
  { Name: "Sonam Kumari", Email: "Sohb6418@gmail.com", PIN: "1346", Marks: "17 - 2 - 5 = 10" },
  { Name: "Amarjeet Kumar", Email: "AMARJEETKUMAR62042@GMAIL.COM", PIN: "9585", Marks: "20" },
  { Name: "Anshu kumari", Email: "amankumar9199019@gmail.com", PIN: "5779", Marks: "16 - 2 - 5 = 9" },
  { Name: "Santu kumar", Email: "ritikrajyadavr@gmail.com", PIN: "5211", Marks: "26" },
  { Name: "Aman kumar", Email: "amanku23679@gmail.com", PIN: "8492", Marks: "23" },
  { Name: "Muskan patel", Email: "mkhbky@gmil.com", PIN: "6261", Marks: "17 - 2 - 5 = 10" },
  { Name: "Simran khatoon", Email: "sahilmobil99310@gmail.com", PIN: "4105", Marks: "12" },
  { Name: "Nikhil Kumar", Email: "nikhilkumar35669@gmail.com", PIN: "9018", Marks: "20" },
  { Name: "Priyanshu kumari", Email: "KKHB7636@GMAIL.COM", PIN: "8938", Marks: "26" },
  { Name: "Ritu kumari", Email: "DHANNU802212@GMAIL.COM", PIN: "7398", Marks: "23" },
  { Name: "prem kumar", Email: "premkypshskyp@gmail.com", PIN: "5449", Marks: "15 - 2 - 5 = 8" },
  { Name: "Vibha Kumari", Email: "PANKAj37347@GMAIL.com", PIN: "7266", Marks: "15 (mobile, no negative marks)" }


    ];

    function extractNumber(markStr) {
      const match = markStr.match(/(\d+)/g);
      if (!match) return 0;
      let num = 0;
      try {
        const expr = markStr.replace(/[^\d\+\-\*\/ÓÄÅÓÄÅ ]/g, '');
        num = eval(expr);
      } catch (e) {
        num = parseInt(match[0]);
      }
      return num;
    }

    function showTop4() {
      const sorted = [...data].sort((a, b) => extractNumber(b.Marks) - extractNumber(a.Marks));
      const top4 = sorted.slice(0, 4);
      const table = `
        <table>
          <thead>
            <tr><th>Rank</th><th>Name</th><th>Email</th><th>Marks</th></tr>
          </thead>
          <tbody>
            ${top4.map((student, i) => `
              <tr>
                <td>${i + 1}</td>
                <td>${student.Name}</td>
                <td>${student.Email}</td>
                <td>${student.Marks}</td>
              </tr>
            `).join('')}
          </tbody>
        </table>`;
      document.getElementById("top4").innerHTML = table;
    }

    function searchStudent(email, pin) {
      const resultDiv = document.getElementById("result");
      const student = data.find(s => s.Email.toLowerCase() === email.toLowerCase() && s.PIN === pin);
      if (student) {
        resultDiv.innerHTML = `
          <table>
            <tr><th>Name</th><td>${student.Name}</td></tr>
            <tr><th>Email</th><td>${student.Email}</td></tr>
            <tr><th>Marks</th><td>${student.Marks}</td></tr>
          </table>`;
      } else {
        resultDiv.innerHTML = `<p class="no-data">No matching record found!</p>`;
      }
    }

    document.getElementById("searchForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const email = document.getElementById("emailInput").value.trim();
      const pin = document.getElementById("pinInput").value.trim();
      searchStudent(email, pin);
    });

    // Show top 4 on load
    showTop4();
  </script>
</body>
</html>
